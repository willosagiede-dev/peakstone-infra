### Minimal pgCat config (v1.2.0) tailored for this stack
### Pool name MUST match the DB you connect to (POSTGRES_DB)

[general]
host = "0.0.0.0"
port = 6432                         # keep in sync with compose
admin_username = "pgcat"
admin_password = "change-this-strong"

[pools.peakstone.users.0]
username = "app_user"               # replace with DB_APP_USER
password = "appsecret"              # replace with DB_APP_PASS
pool_size = 20
min_pool_size = 1
pool_mode = "session"              # Hasura needs session; PostgREST is fine with prepared off

[pools.peakstone.shards.0]
servers = [["postgres", 5432, "primary"]]  # service name inside internal network
database = "peakstone"                        # replace with POSTGRES_DB
